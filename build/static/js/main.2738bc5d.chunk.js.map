{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","Persons","persons","filter","person","name","toLocaleLowerCase","indexOf","newSearch","toLowerCase","map","number","id","onClick","handleDeletePerson","Notification","successMessage","failureMessage","className","baseUrl","axios","get","then","response","data","personObject","post","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","setSuccessMessage","setFailureMessage","useEffect","personService","initialPersons","event","target","preventDefault","concat","setTimeout","catch","error","p","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"2LAWeA,EATA,SAACC,GACZ,OACI,qDACuB,IACnB,uBAAOC,MAAOD,EAAMC,MAAOC,SAAUF,EAAME,eCiBxCC,EArBI,SAACH,GAChB,OACI,uBAAMI,SAAUJ,EAAMI,SAAtB,UACI,wCACU,IACN,uBAAOH,MAAOD,EAAMK,UAAWH,SAAUF,EAAMM,kBAEnD,0CACY,IACR,uBACIL,MAAOD,EAAMO,YACbL,SAAUF,EAAMQ,oBAGxB,8BACI,wBAAQC,KAAK,SAAb,uBCWDC,EA1BC,SAACV,GACb,OACI,8BACKA,EAAMW,QACFC,QACG,SAACC,GAAD,OAGqD,IAFjDA,EAAOC,KACFC,oBACAC,QAAQhB,EAAMiB,UAAUC,kBAEpCC,KAAI,SAACN,GAAD,OACD,+BACKA,EAAOC,KACPD,EAAOO,OACR,wBACInB,MAAOY,EAAOQ,GACdC,QAAStB,EAAMuB,mBAFnB,sBAHKV,EAAOQ,UCIrBG,EAfM,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eACpC,OAAuB,OAAnBD,GAA8C,OAAnBC,EACpB,KAGP,mCACwB,OAAnBD,EACG,qBAAKE,UAAU,UAAf,SAA0BD,IAE1B,qBAAKC,UAAU,UAAf,SAA0BF,O,gBCRpCG,EAAU,eAqBD,EAnBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB9B,EAdA,SAAAC,GACX,OAAOL,IAAMM,KAAKP,EAASM,IAahB,EAVM,SAAAb,GACjB,OAAOQ,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BP,KC8GvBgB,EAtHH,WACR,MAA8BC,mBAAS,IAAvC,mBAAO3B,EAAP,KAAgB4B,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAkCL,mBAAS,IAA3C,mBAAOrB,EAAP,KAAkB2B,EAAlB,KACA,EAA4CN,mBAAS,MAArD,mBAAOb,EAAP,KAAuBoB,EAAvB,KACA,EAA4CP,mBAAS,MAArD,mBAAOZ,EAAP,KAAuBoB,EAAvB,KAOAC,qBALa,WACTC,IAAuBjB,MAAK,SAACkB,GACzBV,EAAWU,QAGH,IA+EhB,OACI,gCACI,2CACA,cAAC,EAAD,CACIxB,eAAgBA,EAChBC,eAAgBA,IAEpB,cAAC,EAAD,CAAQzB,MAAOgB,EAAWf,SA5EP,SAACgD,GACxBN,EAAaM,EAAMC,OAAOlD,UA4EtB,yCACA,cAAC,EAAD,CACIG,SAlEM,SAAC8C,GACfA,EAAME,iBAmCNJ,EAJqB,CACjBlC,KAAM0B,EACNpB,OAAQsB,IAIPX,MAAK,SAACC,GACHO,EAAW5B,EAAQ0C,OAAOrB,EAASC,OACnCY,EAAkB,SAAD,OAAUL,IAC3Bc,YAAW,WACPT,EAAkB,QACnB,QAENU,OAAM,SAACC,GACJV,EAAkBU,EAAMxB,SAASC,KAAKuB,OACtCF,YAAW,WACPR,EAAkB,QACnB,QAGXL,EAAW,IACXE,EAAa,KAcLtC,UAAWmC,EACXlC,aAzFa,SAAC4C,GACtBT,EAAWS,EAAMC,OAAOlD,QAyFhBM,YAAamC,EACblC,eAvFe,SAAC0C,GACxBP,EAAaO,EAAMC,OAAOlD,UAwFtB,yCACA,cAAC,EAAD,CACIU,QAASA,EACTM,UAAWA,EACXM,mBArFe,SAAC2B,GACxB,IAAM7B,EAAK6B,EAAMC,OAAOlD,MACxB,EAAiBU,EAAQC,QAAO,SAAC6C,GAAD,OAAOA,EAAEpC,KAAOA,KAAzCR,EAAP,oBACI6C,OAAOC,QAAP,iBAAyB9C,EAAOC,KAAhC,UACAkC,EAA2B3B,GAC3BkB,EAAW5B,EAAQC,QAAO,SAAC6C,GAAD,OAAOA,EAAEpC,KAAOA,c,MCnCtDuC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.2738bc5d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            filter shown with:{' '}\r\n            <input value={props.value} onChange={props.onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.onSubmit}>\r\n            <div>\r\n                name:{' '}\r\n                <input value={props.valueName} onChange={props.onChangeName} />\r\n            </div>\r\n            <div>\r\n                number:{' '}\r\n                <input\r\n                    value={props.valueNumber}\r\n                    onChange={props.onChangeNumber}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n    return (\r\n        <div>\r\n            {props.persons\r\n                .filter(\r\n                    (person) =>\r\n                        person.name\r\n                            .toLocaleLowerCase()\r\n                            .indexOf(props.newSearch.toLowerCase()) !== -1\r\n                )\r\n                .map((person) => (\r\n                    <h3 key={person.id}>\r\n                        {person.name}\r\n                        {person.number}\r\n                        <button\r\n                            value={person.id}\r\n                            onClick={props.handleDeletePerson}\r\n                        >\r\n                            delete\r\n                        </button>\r\n                    </h3>\r\n                ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ successMessage, failureMessage }) => {\r\n    if (successMessage === null && failureMessage === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <>\r\n            {successMessage === null ? (\r\n                <div className=\"failure\">{failureMessage}</div>\r\n            ) : (\r\n                <div className=\"success\">{successMessage}</div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = personObject => {\r\n    return axios.post(baseUrl, personObject)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newSearch, setNewSearch] = useState('')\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n    const [failureMessage, setFailureMessage] = useState(null)\r\n\r\n    const hook = () => {\r\n        personService.getAll().then((initialPersons) => {\r\n            setPersons(initialPersons)\r\n        })\r\n    }\r\n    useEffect(hook, [])\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleSearchChange = (event) => {\r\n        setNewSearch(event.target.value)\r\n    }\r\n\r\n    const handleDeletePerson = (event) => {\r\n        const id = event.target.value\r\n        const [person] = persons.filter((p) => p.id === id)\r\n        if (window.confirm(`Delete ${person.name} ? `)) {\r\n            personService.deletePerson(id)\r\n            setPersons(persons.filter((p) => p.id !== id))\r\n        }\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        //   const person =\r\n        //   persons.find(person => person.name === newName) || ''\r\n        //   console.log(person)\r\n        //   if (person.name === newName) {\r\n        //       const message = `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        //    if (window.confirm(message)) {\r\n        //         const personObject = {\r\n        //             name: newName,\r\n        //             number: newNumber\r\n        //         }\r\n        //         personService.update(person.id, personObject)\r\n        //             .then( returnedPerson => {\r\n        //                 setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n        //                 setSuccessMessage(\r\n        //                     `${newName}'s number was changed`\r\n        //                   )\r\n        //                   setTimeout(() => {\r\n        //                     setSuccessMessage(null)\r\n        //                   }, 5000)\r\n        //             }).catch(error => {\r\n        //                 setFailureMessage(\r\n        //                     `Information of ${personObject.name} has already been removed from the server`\r\n        //                 )\r\n        //                 setPersons(persons.filter(p => p.name !== personObject.name))\r\n        //                 setTimeout(() => {\r\n        //                     setFailureMessage(null)\r\n        //                   }, 5000)\r\n        //             })\r\n        //    }\r\n        //   } else {\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n        }\r\n        personService\r\n            .create(personObject)\r\n            .then((response) => {\r\n                setPersons(persons.concat(response.data))\r\n                setSuccessMessage(`Added ${newName}`)\r\n                setTimeout(() => {\r\n                    setSuccessMessage(null)\r\n                }, 5000)\r\n            })\r\n            .catch((error) => {\r\n                setFailureMessage(error.response.data.error)\r\n                setTimeout(() => {\r\n                    setFailureMessage(null)\r\n                }, 5000)\r\n            })\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Phonebook</h1>\r\n            <Notification\r\n                successMessage={successMessage}\r\n                failureMessage={failureMessage}\r\n            />\r\n            <Filter value={newSearch} onChange={handleSearchChange} />\r\n            <h2>Add new</h2>\r\n            <PersonForm\r\n                onSubmit={addPerson}\r\n                valueName={newName}\r\n                onChangeName={handleNameChange}\r\n                valueNumber={newNumber}\r\n                onChangeNumber={handleNumberChange}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons\r\n                persons={persons}\r\n                newSearch={newSearch}\r\n                handleDeletePerson={handleDeletePerson}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './Index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}